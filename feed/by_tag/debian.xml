<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="3.9.2">Jekyll</generator><link href="https://blog.touret.info/feed/by_tag/debian.xml" rel="self" type="application/atom+xml" /><link href="https://blog.touret.info/" rel="alternate" type="text/html" /><updated>2022-06-12T16:28:11+00:00</updated><id>https://blog.touret.info/feed/by_tag/debian.xml</id><title type="html">blog.touret.info</title><subtitle>Mon blog personnel. J'y expose mes derniers travaux et ma veille technologique. Au menu en vrac: Java, Kotlin, Maven, Docker, Cloud, Kubernetes, logiciels libres, Debian, Ubuntu, Gnu/Linux, des talks online et pr√©sentiels.</subtitle><author><name>Alexandre Touret</name></author><entry><title type="html">Am√©liorer le temps de d√©marrage de Debian 10</title><link href="https://blog.touret.info/2020/04/24/ameliorer-le-temps-de-demarrage-de-debian-10/" rel="alternate" type="text/html" title="Am√©liorer le temps de d√©marrage de Debian 10" /><published>2020-04-24T18:06:13+00:00</published><updated>2020-04-24T18:06:13+00:00</updated><id>https://blog.touret.info/2020/04/24/ameliorer-le-temps-de-demarrage-de-debian-10</id><content type="html" xml:base="https://blog.touret.info/2020/04/24/ameliorer-le-temps-de-demarrage-de-debian-10/">&lt;p&gt;Mon PC Lenovo a un SSD. Le temps de d√©marrage est actuellement de 11 sec. √áa commence √† faire pas mal‚Ä¶ J‚Äôai eu donc envie de me pencher sur l‚Äôoptimisation du d√©marrage ( encore une fois) . Voici comment gagner (facilement) quelques secondes au d√©marrage.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/2020/04/boot_time.png&quot; alt=&quot;boot&quot; class=&quot;align-center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Tout d‚Äôabord, vous devez analyser les services qui prennent du temps au d√©marrage. Vous pouvez le faire avec cette commande:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;systemd-analyze plot &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; plot.svg
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;J‚Äôai obtenu le graphique suivant:&lt;figure class=&quot;wp-block-gallery aligncenter columns-1 is-cropped&quot;&gt;&lt;/figure&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/2020/04/boot_avant.png&quot; alt=&quot;boot&quot; class=&quot;align-center&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;configuration-grub&quot;&gt;Configuration GRUB&lt;/h2&gt;

&lt;p&gt;La premi√®re manipulation √† r√©aliser est de d√©sactiver le timeout de &lt;a href=&quot;https://wiki.debian.org/Grub&quot;&gt;GRUB&lt;/a&gt;. Pour cel√†, vous pouvez modifier la variable &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;GRUB_TIMEOUT&lt;/code&gt; dans le fichier &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/etc/default/grub&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-ini highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;py&quot;&gt;GRUB_TIMEOUT&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;0&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Ensuite, vous devez mettre √† jour la configuration &lt;a href=&quot;https://wiki.debian.org/Grub&quot;&gt;GRUB&lt;/a&gt; en ex√©cutant cette commande:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;update-grub2
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Au prochain reboot, vous ne verrez plus le menu &lt;a href=&quot;https://wiki.debian.org/Grub&quot;&gt;GRUB&lt;/a&gt;.&lt;/p&gt;

&lt;h2 id=&quot;configuration-networkmanager&quot;&gt;Configuration NetworkManager&lt;/h2&gt;

&lt;p&gt;Dans mon cas, le service &lt;a href=&quot;https://askubuntu.com/questions/1018576/what-does-networkmanager-wait-online-service-do&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;NetworkManager-wait-online.service&lt;/code&gt; prenait pr√®s de 9 secondes&lt;/a&gt;. Apr√®s avoir lu &lt;a href=&quot;https://askubuntu.com/questions/1018576/what-does-networkmanager-wait-online-service-do&quot;&gt;plusieurs billets&lt;/a&gt; et rapports de bug, je me suis aper√ßu que je pouvais le d√©sactiver au boot. Vous pouvez le faire en lan√ßant la commande suivante&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;systemctl disable NetworkManager-wait-online.service
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;configuration-apt&quot;&gt;Configuration Apt&lt;/h2&gt;

&lt;p&gt;Un autre service qui prenait pas mal de temps √©tait &lt;a href=&quot;https://askubuntu.com/questions/1038923/do-i-really-need-apt-daily-service-and-apt-daily-upgrade-service&quot;&gt;apt-daily.timer qui v√©rifiait au boot&lt;/a&gt; qu‚Äôil y avait des mises √† jour de l‚ÄôOS. Apr√®s quelques recherches, j‚Äô ai vu qu‚Äôon pouvait soit le d√©sactiver ( ce qui n‚Äôest pas recommand√© pour les mises √† jour de s√©curit√© ) soit d√©caler la recherche. J‚Äôai choisi cette solution. Vous devez donc ex√©cuter la commande suivante:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;systemctl edit apt-daily.timer
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Et renseigner le contenu suivant:&lt;/p&gt;

&lt;div class=&quot;language-ini highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nn&quot;&gt;[Timer]&lt;/span&gt;
&lt;span class=&quot;py&quot;&gt;OnBootSec&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;15min&lt;/span&gt;
&lt;span class=&quot;py&quot;&gt;OnUnitActiveSec&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;1d&lt;/span&gt;
&lt;span class=&quot;py&quot;&gt;AccuracySec&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;1h&lt;/span&gt;
&lt;span class=&quot;py&quot;&gt;RandomizedDelaySec&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;30min&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Ce service sera donc lanc√© 15 minutes apr√®s le boot. Ce qui est largement suffisant.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;[EDIT]&lt;/strong&gt; Vous pouvez appliquer la m√™me configuration pour le service &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;apt-daily-upgrade&lt;/code&gt; en ex√©cutant la commande:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;systemctl edit apt-daily-upgrade.timer
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Ensuite, vous pouvez recharger la configuration en ex√©cutant cette commande:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;systemctl daemon-reload
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;r√©sultats&quot;&gt;R√©sultats&lt;/h2&gt;

&lt;p&gt;Apr√®s ces quelques manipulations qui peuvent prendre 5 minutes grand maximum, j‚Äôai r√©ussi √† optimiser le boot en r√©duisant le d√©marrage √† &lt;strong&gt;5 secondes!&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/2020/04/boot_apres_header.png&quot; alt=&quot;boot&quot; class=&quot;align-center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Vous pourrez trouver le d√©tail ci-dessous:&lt;figure class=&quot;wp-block-gallery aligncenter columns-1 is-cropped&quot;&gt;&lt;/figure&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/2020/04/boot_apres-2.png&quot; alt=&quot;boot&quot; class=&quot;align-center&quot; /&gt;&lt;/p&gt;</content><author><name>Alexandre Touret</name></author><category term="debian" /><category term="planetlibre" /><summary type="html">Mon PC Lenovo a un SSD. Le temps de d√©marrage est actuellement de 11 sec. √áa commence √† faire pas mal‚Ä¶ J‚Äôai eu donc envie de me pencher sur l‚Äôoptimisation du d√©marrage ( encore une fois) . Voici comment gagner (facilement) quelques secondes au d√©marrage.</summary></entry><entry><title type="html">R√©p√©ter avec JjazzLab tout seul dans son garage</title><link href="https://blog.touret.info/2020/04/12/repeter-avec-jjazzlab-tout-seul-dans-son-garage/" rel="alternate" type="text/html" title="R√©p√©ter avec JjazzLab tout seul dans son garage" /><published>2020-04-12T12:47:48+00:00</published><updated>2020-04-12T12:47:48+00:00</updated><id>https://blog.touret.info/2020/04/12/repeter-avec-jjazzlab-tout-seul-dans-son-garage</id><content type="html" xml:base="https://blog.touret.info/2020/04/12/repeter-avec-jjazzlab-tout-seul-dans-son-garage/">&lt;p&gt;Avec les contraintes li√©es au confinement, les &lt;a href=&quot;http://george-abitbol.fr/v/c0bce857&quot;&gt;r√©p√©titions&lt;/a&gt; se font de plus en plus rares. Pour ne pas perdre la main, il y a quelques logiciels qui permettent de jouer d‚Äôun instrument et d‚Äô improviser tout en ayant une bande son en fond musical.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/2020/04/thomas-litangen-sp9hcrasmpe-unsplash.jpg&quot; alt=&quot;sign&quot; class=&quot;align-center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Il y a plusieurs logiciels payants/propri√©taires sur diff√©rentes plateformes:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.bandinabox.com/bb.php?os=win&amp;amp;lang=fr&quot;&gt;Band in a box&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.apple.com/fr/mac/garageband/&quot;&gt;irealpro&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.apple.com/fr/mac/garageband/&quot;&gt;Garage band&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.jjazzlab.com/en/&quot;&gt;Jjazzlabs&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;J‚Äôai d√©couvert ce dernier r√©cemment en naviguant sur le site &lt;a href=&quot;http://linuxmao.org/JJazzLab&quot;&gt;Linux Mao&lt;/a&gt;. Il a l‚Äôavantage d‚Äô√™tre gratuit (&lt;a href=&quot;https://github.com/jjazzboss/JJazzLab-X&quot;&gt;le moteur est sous licence LGPL 3.0&lt;/a&gt;, pas le logiciel en tant que tel), de fonctionner sous GNU/LINUX, d‚Äô offrir un son pas mal du tout et de permettre la configuration de la dynamique au fur et √† mesure du morceau.&lt;/p&gt;

&lt;p&gt;Je vais expliquer comment l‚Äôinstaller sur &lt;a href=&quot;https://www.debian.org/&quot;&gt;Debian&lt;/a&gt;.&lt;/p&gt;

&lt;h2 id=&quot;configuration-midi&quot;&gt;Configuration Midi&lt;/h2&gt;

&lt;h3 id=&quot;activation-des-p√©riph√©riques-virtuels-midi&quot;&gt;Activation des p√©riph√©riques virtuels MIDI&lt;/h3&gt;

&lt;p&gt;Cr√©er un fichier &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/etc/modules.load.d/midi.conf&lt;/code&gt; avec le contenu suivant:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;snd-virmidi
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Ensuite cr√©er le fichier &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/etc/modprobe.d/midi.conf&lt;/code&gt; avec le contenu suivant:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;options snd-virmidi &lt;span class=&quot;nv&quot;&gt;midi_devs&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Logiquement √† ce stade, lors du prochain reboot, vous aurez un p√©riph√©rique virtuel MIDI activ√©. En attendant vous pouvez lancer la commande suivante&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;modprobe snd-virmidi &lt;span class=&quot;nv&quot;&gt;midi_devs&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;synth√©tiser-du-midi&quot;&gt;Synth√©tiser du MIDI&lt;/h3&gt;

&lt;p&gt;Pour faire fonctionner ce logiciel, il faut installer une banque de son ( &lt;a href=&quot;https://fr.wikipedia.org/wiki/SoundFont&quot;&gt;au format SF2&lt;/a&gt;) et un logiciel permettant de l‚Äôutiliser pour synth√©tiser du MIDI.&lt;br /&gt;
La banque de son recommand√©e est disponible via &lt;a href=&quot;https://musical-artifacts.com/artifacts/1036&quot;&gt;ce lien&lt;/a&gt;. T√©l√©chargez l√† et copiez la dans un r√©pertoire accessible.&lt;/p&gt;

&lt;p&gt;Pour le second, il vous faudra installer &lt;a href=&quot;http://www.fluidsynth.org/&quot;&gt;fluidsynth&lt;/a&gt;. Voic les quelques commandes √† lancer:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;apt &lt;span class=&quot;nb&quot;&gt;install &lt;/span&gt;fluid-synth qsynth
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;petite-v√©rification&quot;&gt;Petite v√©rification‚Ä¶&lt;/h3&gt;

&lt;p&gt;Avant d‚Äô aller plus loin dans la configuration de fluidsynth, vous pouvez vous assurer que tout est OK &lt;a href=&quot;https://en.wikipedia.org/wiki/File:MIDI_sample.mid?qsrc=3044&quot;&gt;en r√©cup√©rant un fichier MIDI&lt;/a&gt; et en lan√ßant la commande suivante:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;fluidsynth &lt;span class=&quot;nt&quot;&gt;-a&lt;/span&gt; pulseaudio &lt;span class=&quot;nt&quot;&gt;-m&lt;/span&gt; alsa_seq &lt;span class=&quot;nt&quot;&gt;-l&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; /opt/JJazzLab-2.0-Linux/JJazzLab-SoundFont.sf2  MIDI_sample.mid
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Normalement vous devriez avoir du son.&lt;/p&gt;

&lt;h3 id=&quot;configurer-fluidsynth&quot;&gt;Configurer fluidsynth&lt;/h3&gt;

&lt;p&gt;Lancez qsynth et cliquez sur le bouton ¬´¬†configuration¬†¬ª&lt;/p&gt;

&lt;p&gt;Vous trouverez ci-dessous la configuration que j‚Äôai appliqu√©. Elle diff√®re l√©g√®rement de &lt;a href=&quot;https://www.jjazzlab.com/en/doc/fluidsynth/&quot;&gt;celle pr√©sent√©e dans la documentation&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/2020/04/capture-de28099c3a9cran-du-2020-04-12-15-04-39.png&quot; alt=&quot;fluidsynth1&quot; class=&quot;align-center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/2020/04/capture-de28099c3a9cran-du-2020-04-12-15-05-02.png&quot; alt=&quot;fluidsynth2&quot; class=&quot;align-center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/2020/04/capture-de28099c3a9cran-du-2020-04-12-15-05-13.png&quot; alt=&quot;fluidsynth3&quot; class=&quot;align-center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Pensez √† red√©marrer fluidsynth apr√®s application de ces nouveaux param√®tres.&lt;/p&gt;

&lt;h3 id=&quot;configurer-aconnect&quot;&gt;Configurer aconnect&lt;/h3&gt;

&lt;p&gt;Disclaimer: La c‚Äôest la partie la plus obscure‚Ä¶&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/2020/04/pegi_18_annotated_2009-2010.webp&quot; alt=&quot;aconnect&quot; class=&quot;align-center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Il faut maintenant ¬´¬†brancher¬†¬ª la sortie du synth√©tiseur virtuel MIDI √† fluidsynth pour que le son MIDI soit interpr√©t√© par ce dernier √† travers sa banque de son. Ce n‚Äôest pas intuitif, je vous avais pr√©venu ‚Ä¶&lt;br /&gt;
Je ne vous parle pas de la pseudo interface graphique √† aconnect. La ligne de console est plus parlante ( c‚Äôest pour dire ) .&lt;/p&gt;

&lt;p&gt;Ex√©cutez la commande suivante:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;aconnect &lt;span class=&quot;nt&quot;&gt;-lo&lt;/span&gt;                                            
client 14: &lt;span class=&quot;s1&quot;&gt;'Midi Through'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;noyau]
    0 &lt;span class=&quot;s1&quot;&gt;'Midi Through Port-0'&lt;/span&gt;
client 24: &lt;span class=&quot;s1&quot;&gt;'Virtual Raw MIDI 2-0'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;noyau,card&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;2]
    0 &lt;span class=&quot;s1&quot;&gt;'VirMIDI 2-0     '&lt;/span&gt;
client 128: &lt;span class=&quot;s1&quot;&gt;'FLUID Synth (JJLAB)'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;utilisateur,pid&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;17838]
    0 &lt;span class=&quot;s1&quot;&gt;'Synth input port (JJLAB:0)'&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Dans mon cas, je vais avoir √† connecter le client 24:0 au synth√©tiseur 128:0 gr√¢ce √† la commande :&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;aconnect 24:0 128:0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Maintenant, si on relance la commande &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;aconnect -lo&lt;/code&gt; on obtient le r√©sultat suivant:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;client 14: &lt;span class=&quot;s1&quot;&gt;'Midi Through'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;noyau]
    0 &lt;span class=&quot;s1&quot;&gt;'Midi Through Port-0'&lt;/span&gt;
client 24: &lt;span class=&quot;s1&quot;&gt;'Virtual Raw MIDI 2-0'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;noyau,card&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;2]
    0 &lt;span class=&quot;s1&quot;&gt;'VirMIDI 2-0     '&lt;/span&gt;
	Connexion √Ä: 128:0
client 128: &lt;span class=&quot;s1&quot;&gt;'FLUID Synth (JJLAB)'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;utilisateur,pid&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;17838]
    0 &lt;span class=&quot;s1&quot;&gt;'Synth input port (JJLAB:0)'&lt;/span&gt;
	Connect√© Depuis: 24:0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Attention, cette commande devra √™tre lanc√©e ( ainsi que fluidsynth) avant chaque d√©marrage de jjazzlab.&lt;/p&gt;

&lt;h2 id=&quot;installation-de-jjazzlab&quot;&gt;Installation de Jjazzlab&lt;/h2&gt;

&lt;p&gt;T√©l√©chargez les binaires sur &lt;a href=&quot;https://www.jjazzlab.com/en/download/&quot;&gt;ce site&lt;/a&gt;, puis d√©compressez l‚Äôarchive dans le r√©pertoire &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/opt&lt;/code&gt; par ex.&lt;/p&gt;

&lt;p&gt;Vous devez √©galement installer java&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;apt &lt;span class=&quot;nb&quot;&gt;install &lt;/span&gt;openjdk-11-jdk
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Ensuite, vous devez cr√©er le fichier &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;~/.local/share/applications/jjazzlab.desktop&lt;/code&gt; avec le contenu suivant:&lt;/p&gt;

&lt;div class=&quot;language-ini highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nn&quot;&gt;[Desktop Entry]&lt;/span&gt;
&lt;span class=&quot;py&quot;&gt;Type&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;Application&lt;/span&gt;
&lt;span class=&quot;py&quot;&gt;Name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;JJazzLab&lt;/span&gt;
&lt;span class=&quot;py&quot;&gt;GenericName&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;JJazzLab&lt;/span&gt;
&lt;span class=&quot;py&quot;&gt;Icon&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;
&lt;span class=&quot;py&quot;&gt;Exec&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;/opt/JJazzLab-2.0-Linux/bin/jjazzlab&quot;&lt;/span&gt;
&lt;span class=&quot;py&quot;&gt;Terminal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;false&lt;/span&gt;
&lt;span class=&quot;py&quot;&gt;Categories&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;Audio;Music;Player;AudioVideo;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Maintenant vous pouvez directement d√©marrer JJazzlab via le menu.&lt;/p&gt;

&lt;h2 id=&quot;configuration&quot;&gt;Configuration&lt;/h2&gt;

&lt;p&gt;Une fois jjazzlab d√©marr√©, vous devez aller dans le menu ¬´¬†Tools&amp;gt;Options¬†¬ª et s√©lectionnez les valeurs suivantes:&lt;figure class=&quot;wp-block-image size-large&quot;&gt;&lt;/figure&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/2020/04/capture-de28099c3a9cran-du-2020-04-12-15-29-27.png&quot; alt=&quot;configuration&quot; class=&quot;align-center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Ouvrez un fichier example (ex. sunny )&lt;/p&gt;

&lt;p&gt;Cliquez sur le menu d√©crit par un clavier&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/2020/04/capture-de28099c3a9cran-du-2020-04-12-15-34-11.png&quot; alt=&quot;configuration&quot; class=&quot;align-center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Puis configurez comme suit:&lt;figure class=&quot;wp-block-image size-large&quot;&gt;&lt;/figure&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/2020/04/capture-de28099c3a9cran-du-2020-04-12-15-35-04.png&quot; alt=&quot;configuration&quot; class=&quot;align-center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Maintenant vous pouvez &lt;a href=&quot;https://www.jjazzlab.com/docs/JJazzLab-Realbook.zip&quot;&gt;t√©l√©charger les standards fournis sur le site&lt;/a&gt; et improviser dessus üôÇ&lt;/p&gt;</content><author><name>Alexandre Touret</name></author><category term="debian" /><category term="musique" /><category term="planetlibre" /><summary type="html">Avec les contraintes li√©es au confinement, les r√©p√©titions se font de plus en plus rares. Pour ne pas perdre la main, il y a quelques logiciels qui permettent de jouer d‚Äôun instrument et d‚Äô improviser tout en ayant une bande son en fond musical.</summary></entry><entry><title type="html">Erreur 139 √† l‚Äôex√©cution d‚Äôun container docker</title><link href="https://blog.touret.info/2020/04/01/erreur-139-a-lexecution-dun-container-docker/" rel="alternate" type="text/html" title="Erreur 139 √† l‚Äôex√©cution d‚Äôun container docker" /><published>2020-04-01T09:09:44+00:00</published><updated>2020-04-01T09:09:44+00:00</updated><id>https://blog.touret.info/2020/04/01/erreur-139-a-lexecution-dun-container-docker</id><content type="html" xml:base="https://blog.touret.info/2020/04/01/erreur-139-a-lexecution-dun-container-docker/">&lt;p&gt;Voici un rapide article sur un probl√®me rencontr√© r√©cemment. Lors de l‚Äôex√©cution d‚Äôun container docker, j‚Äôai eu une &lt;a href=&quot;https://medium.com/better-programming/understanding-docker-container-exit-codes-5ee79a1d58f6&quot;&gt;erreur SIGSEGV 139&lt;/a&gt;. Un crash avec aucune log.&lt;/p&gt;

&lt;p&gt;Bref que du bonheur üôÇ&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/2020/04/man-person-street-shoes-2882.jpg&quot; alt=&quot;man street shoes&quot; class=&quot;align-center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Avant d‚Äôaller plus loin voici mon environnement:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;http://www.debian.org/&quot;&gt;Debian 10&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://docs.docker.com/install/linux/docker-ce/debian/&quot;&gt;Docker CE&lt;/a&gt; 19.03.8&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Apr√®s quelques recherches, je me suis rendu compte qu‚Äôon pouvait reproduire ce comportement en ex√©cutant cette commande:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;docker run &lt;span class=&quot;nt&quot;&gt;-it&lt;/span&gt; gcc:4.8.5
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Une des raisons trouv√©es serait &lt;a href=&quot;https://github.com/moby/moby/issues/28705&quot;&gt;un probl√®me de compatibilit√© avec le noyau 4.8.5&lt;/a&gt; (oui √ßa remonte‚Ä¶).&lt;br /&gt;
Une solution est d‚Äôactiver l‚Äô√©mulation &lt;a href=&quot;https://davisdoesdownunder.blogspot.com/2011/02/linux-syscall-vsyscall-and-vdso-oh-my.html&quot;&gt;vsyscall&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Voici la configuration √† effectuer:&lt;br /&gt;
Dans le fichier &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/etc/default/grub&lt;/code&gt;, ajouter la ligne suivante:&lt;/p&gt;

&lt;div class=&quot;language-ini highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;py&quot;&gt;GRUB_CMDLINE_LINUX_DEFAULT&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;quiet vsyscall=emulate&quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Puis lancer les commandes suivantes:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;update-grub 
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;reboot
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Maintenant le container devrait pouvoir s‚Äôex√©cuter correctement.&lt;/p&gt;</content><author><name>Alexandre Touret</name></author><category term="debian" /><category term="docker" /><category term="planetlibre" /><summary type="html">Voici un rapide article sur un probl√®me rencontr√© r√©cemment. Lors de l‚Äôex√©cution d‚Äôun container docker, j‚Äôai eu une erreur SIGSEGV 139. Un crash avec aucune log.</summary></entry><entry><title type="html">Ansible pour les provisionner tous !</title><link href="https://blog.touret.info/2019/06/25/ansible-pour-les-provisionner-tous/" rel="alternate" type="text/html" title="Ansible pour les provisionner tous !" /><published>2019-06-25T09:34:51+00:00</published><updated>2019-06-25T09:34:51+00:00</updated><id>https://blog.touret.info/2019/06/25/ansible-pour-les-provisionner-tous</id><content type="html" xml:base="https://blog.touret.info/2019/06/25/ansible-pour-les-provisionner-tous/">&lt;p&gt;Si vous &lt;a href=&quot;http://blog.touret.info/2018/03/15/installation-de-vagrant/&quot;&gt;provisionnez vos VM VirtualBox avec Vagrant&lt;/a&gt;, vous avez sans doute eu l‚Äôid√©e d‚Äôautomatiser le provisionning des machines virtuelles. Dans mon cas une VM GNU/Linux bas√©e sur Debian 9.&lt;/p&gt;

&lt;p&gt;Pour cela, soit vous faite tout manuellement et apr√®s les mises √† jour deviennent fastidieuses, soit vous appliquez un script shell au d√©marrage de vagrant, soit vous utilisez &lt;a href=&quot;https://www.ansible.com/&quot;&gt;Ansible.&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/2019/06/ansible_logo.svg_.png&quot; alt=&quot;ansible&quot; class=&quot;align-center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Ansible est un outil opensource permettant d‚Äôautomatiser le provisionning et la mise √† jour des environnements √† distance (via SSH). L‚Äôavantage par rapport √† des outils tels que &lt;a href=&quot;https://puppet.com&quot;&gt;Puppet&lt;/a&gt;, est qu‚Äôil ne n√©cessite pas l‚Äôinstallation &lt;a href=&quot;https://puppet.com/docs/puppet/6.0/man/agent.html&quot;&gt;d‚Äôagent.&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Je vais essayer de vous montrer comment mettre en place le provisionning via Ansible pour &lt;a href=&quot;https://www.virtualbox.org/&quot;&gt;VirtualBox&lt;/a&gt;.&lt;/p&gt;

&lt;h2 id=&quot;configuration-de-vagrant&quot;&gt;Configuration de Vagrant&lt;/h2&gt;

&lt;p&gt;Dans le fichier Vagrantfile, on active le provisionning via Ansible:&lt;/p&gt;

&lt;div class=&quot;language-ini highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;err&quot;&gt;config.vm.provision&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;&quot;ansible_local&quot;&lt;/span&gt; 
  &lt;span class=&quot;err&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;|ansible|&lt;/span&gt; &lt;span class=&quot;py&quot;&gt;ansible.playbook&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;site.yml&quot;&lt;/span&gt;
  &lt;span class=&quot;py&quot;&gt;ansible.install_mode&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;pip&quot;&lt;/span&gt;
  &lt;span class=&quot;py&quot;&gt;ansible.version&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;2.7.10&quot;&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;end&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Cette configuration fait r√©f√©rence √† un fichier ¬´¬†playbook¬†¬ª site.yml. C‚Äôest la configuration qui sera appliqu√© lors du provisionning . Que √ßa soit √† la cr√©ation ou pour les mises √† jour.&lt;/p&gt;

&lt;p&gt;Voici un exemple de contenu:&lt;/p&gt;

&lt;div class=&quot;language-yaml highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;VirtualBox&lt;/span&gt;
    &lt;span class=&quot;s&quot;&gt;hosts&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;all&lt;/span&gt;
    &lt;span class=&quot;s&quot;&gt;become&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;yes&lt;/span&gt;
    &lt;span class=&quot;s&quot;&gt;become_user&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;root&quot;&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;become_method&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;sudo&quot;&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;roles&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;common&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;na&quot;&gt;vars_files&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
          &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;vars/environment.yml&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Ce fichier est la racine de notre configuration Ansible. On y r√©f√©rence les r√¥les appliqu√©s et les fichiers d‚Äô environnement. Voici un exemple de r√¥le:&lt;/p&gt;

&lt;div class=&quot;language-yaml highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;Remove&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;useless&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;packages&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;from&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;the&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;cache&quot;&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;apt&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;autoclean&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;yes&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;force_apt_get&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;yes&lt;/span&gt;
    
&lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;Remove&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;dependencies&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;that&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;are&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;no&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;longer&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;required&quot;&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;apt&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;autoremove&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;yes&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;force_apt_get&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;yes&lt;/span&gt;
&lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;Update&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;and&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;upgrade&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;apt&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;packages&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;(may&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;take&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;while)&quot;&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;become&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;true&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;apt&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;upgrade&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;dist&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;update_cache&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;yes&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;force_apt_get&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;yes&lt;/span&gt;
&lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;Install&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;useful&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;packages&quot;&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;become&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;true&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;apt&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; 
    &lt;span class=&quot;na&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;gcc&lt;/span&gt;
      &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;g++&lt;/span&gt;
      &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;...&lt;/span&gt;
      &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;zsh&lt;/span&gt;
      &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;firewalld&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;state&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;present&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;update_cache&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;no&lt;/span&gt; 
&lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;ansible create directory example&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;/.m2&quot;&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;state&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;directory&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;owner&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;group&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;
&lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;Install Maven settings.xml&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;copy&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; 
    &lt;span class=&quot;na&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;settings.xml&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;dest&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;/.m2/settings.xml&quot;&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;owner&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;group&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;
&lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;Install&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;Maven&quot;&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;raw&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;curl&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;-sL&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt; &lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\&quot;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;http://mirror.ibcp.fr/pub/apache/maven/maven-3//binaries/apache-maven--bin.tar.gz&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;-o&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;/opt/apache-maven.tar.gz&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;tar&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;-zxf&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;/opt/apache-maven.tar.gz&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;-C&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;/opt&quot;&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;become&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;true&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;become_user&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;root&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;become_method&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;sudo&lt;/span&gt;
&lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;Change&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;Maven&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;Rights&quot;&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;/opt/*&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;state&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;touch&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;modification_time&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;preserve&quot;&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;access_time&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;preserve&quot;&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;owner&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;group&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Les variables d‚Äôenvironnement permettent de variabiliser certains champs de vos r√¥les. On peut trouver par exemple les versions de certains outils d√©ploy√©s&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;maven_version: 3.5.4
username: vagrant
home: /home/vagrant
docker_compose_version: 1.22.0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Il y a &lt;a href=&quot;https://docs.ansible.com/ansible/latest/modules/modules_by_category.html&quot;&gt;une quantit√© impressionnante de modules Ansible que l‚Äôon peut utiliser&lt;/a&gt;. Que √ßa soit pour lancer des commandes shell ou lancer des services. Contrairement √† la cr√©ation d‚Äôun script shell qui pourrait faire les m√™mes actions √† la cr√©ation, on peut facilement g√©rer la mise √† jour de la VM car Ansible d√©tecte les modifications lors de son ex√©cution.&lt;/p&gt;

&lt;h3 id=&quot;configuration-sp√©cifique-pour-virtualbox&quot;&gt;Configuration sp√©cifique pour VirtualBox&lt;/h3&gt;

&lt;p&gt;Pour VirtualBox, j‚Äôai ajout√© deux fichiers de configuration suppl√©mentaires √† la racine:&lt;/p&gt;

&lt;h5 id=&quot;ansiblecfg&quot;&gt;ansible.cfg&lt;/h5&gt;

&lt;div class=&quot;language-ini highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nn&quot;&gt;[defaults]&lt;/span&gt;
  &lt;span class=&quot;py&quot;&gt;hostfile&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;hosts&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h5 id=&quot;hosts&quot;&gt;hosts&lt;/h5&gt;

&lt;div class=&quot;language-ini highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nn&quot;&gt;[local]&lt;/span&gt;
  &lt;span class=&quot;err&quot;&gt;localhost&lt;/span&gt; &lt;span class=&quot;py&quot;&gt;ansible_connection&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;local&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;provisionning&quot;&gt;Provisionning&lt;/h2&gt;

&lt;h3 id=&quot;a-la-cr√©ation&quot;&gt;A la cr√©ation&lt;/h3&gt;

&lt;p&gt;le provisionning peut se faire au lancement de vagrant via la commande:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;vagrant up
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Pour faire une mise √† jour&lt;/p&gt;

&lt;p&gt;Directement dans la box, vous pouvez lancer les commandes suivantes :&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;mount &lt;span class=&quot;nt&quot;&gt;-t&lt;/span&gt; vboxsf vagrant /vagrant
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Puis, vous pouvez lancer les commandes suivantes dans la box:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;su -
&lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; /vagrant
&lt;span class=&quot;nb&quot;&gt;export &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;ANSIBLE_CONFIG&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/vagrant
ansible-playbook site.yml
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;</content><author><name>Alexandre Touret</name></author><category term="ansible" /><category term="debian" /><category term="planetlibre" /><summary type="html">Si vous provisionnez vos VM VirtualBox avec Vagrant, vous avez sans doute eu l‚Äôid√©e d‚Äôautomatiser le provisionning des machines virtuelles. Dans mon cas une VM GNU/Linux bas√©e sur Debian 9.</summary></entry><entry><title type="html">Installer docker ce sur Debian 9</title><link href="https://blog.touret.info/2018/09/26/installer-docker-ce-sur-debian-9/" rel="alternate" type="text/html" title="Installer docker ce sur Debian 9" /><published>2018-09-26T10:28:21+00:00</published><updated>2018-09-26T10:28:21+00:00</updated><id>https://blog.touret.info/2018/09/26/installer-docker-ce-sur-debian-9</id><content type="html" xml:base="https://blog.touret.info/2018/09/26/installer-docker-ce-sur-debian-9/">&lt;p&gt;Bon, √ßa fait quelques temps que je n‚Äôai rien post√©‚Ä¶&lt;br /&gt;
Voici un rapide tuto pour installer &lt;a href=&quot;https://docs.docker.com/install/linux/docker-ce/debian/&quot;&gt;docker-ce sur une debian9&lt;/a&gt;. Oui, je sais, docker est d√©j√† pr√©sent sur les d√©p√¥ts, mais si vous souhaitez avoir une version un peu plus r√©cente, vous pouvez passer par l‚Äôinstallation de la version ce fournie par docker.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/2018/09/docker.png&quot; alt=&quot;docker&quot; class=&quot;align-center&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;pr√©-requis&quot;&gt;Pr√©-requis&lt;/h2&gt;

&lt;p&gt;Supprimer les √©ventuelles installations de docker et docker-compose&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;#apt-get remove docker docker-compose  &lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;installation&quot;&gt;Installation&lt;/h2&gt;

&lt;p&gt;Lancer les commandes suivantes:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;# apt-get install apt-transport-https ca-certificates  &lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# curl -fsSL https://download.docker.com/linux/debian/gpg | apt-key add &amp;amp;#8211;  &lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# add-apt-repository \  &lt;/span&gt;
&lt;span class=&quot;s2&quot;&gt;&quot;deb [arch=amd64] https://download.docker.com/linux/debian &lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\ &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; 
&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;$(&lt;/span&gt;lsb_release &lt;span class=&quot;nt&quot;&gt;-cs&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; &lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\ &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;stable&quot;&lt;/span&gt;  
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Puis lancer&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;# apt update&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# apt install docker-ce&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;installation-de-docker-compose&quot;&gt;Installation de docker-compose&lt;/h3&gt;

&lt;p&gt;Lancer les commandes suivantes:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;# curl -L &quot;https://github.com/docker/compose/releases/download/1.22.0/docker-compose-$(uname -s)-$(uname -m)&quot; -o /usr/local/bin/docker-compose&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# chmod a+x /usr/local/bin/docker-compose  &lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;configuration-des-droits&quot;&gt;Configuration des droits&lt;/h2&gt;

&lt;p&gt;Pour lancer docker depuis un utiliser non root, il faut lancer les commandes suivantes:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;# groupadd docker&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# adduser monutilisateur docker&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# usermod -aG docker monutilisateur&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Apr√®s ceci, vaut mieux red√©marrer le pc ‚Ä¶&lt;/p&gt;

&lt;h2 id=&quot;configuration-du-d√©mon&quot;&gt;Configuration du d√©mon&lt;/h2&gt;

&lt;p&gt;Voici quelques config √† appliquer pour que le d√©mon soit accessible par des outils tels que le plugin maven¬†ou encore configurer l‚Äôacc√®s √† un proxy&lt;/p&gt;

&lt;h3 id=&quot;configuration-du-port&quot;&gt;Configuration du port&lt;/h3&gt;

&lt;p&gt;Ex√©cuter la commande:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;# systemctl edit docker.service&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Entrer le code suivant:&lt;/p&gt;

&lt;div class=&quot;language-ini highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nn&quot;&gt;[Service]&lt;/span&gt;
&lt;span class=&quot;py&quot;&gt;ExecStart&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;
&lt;span class=&quot;py&quot;&gt;ExecStart&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;/usr/bin/dockerd -H tcp://0.0.0.0:2375 -H unix:///var/run/docker.sock&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Et l‚Äôenregistrer sous /etc/systemd/system/docker.service.d/docker.conf&lt;/p&gt;

&lt;h3 id=&quot;configuration-du-proxy&quot;&gt;Configuration du proxy&lt;/h3&gt;

&lt;p&gt;Avec la m√™me commande&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;# systemctl edit docker.service&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Entrer la configuration suivante:&lt;/p&gt;

&lt;div class=&quot;language-ini highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nn&quot;&gt;[Service]&lt;/span&gt;
&lt;span class=&quot;py&quot;&gt;Environment&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;HTTP&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\_&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;PROXY=http://mon&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\_&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;proxy:mon_port/&quot;&lt;/span&gt;
&lt;span class=&quot;py&quot;&gt;Environment&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;NO_PROXY=127.0.0.1&quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;activation-des-configurations&quot;&gt;Activation des configurations&lt;/h3&gt;

&lt;p&gt;Lancer les commandes suivantes:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;# systemctl daemon-reload # systemctl restart docker&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;validation&quot;&gt;Validation&lt;/h2&gt;

&lt;p&gt;Maintenant, vous pouvez valider votre configuration avec la commande:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;docker run hello-world
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;</content><author><name>Alexandre Touret</name></author><category term="debian" /><category term="docker" /><category term="planetlibre" /><summary type="html">Bon, √ßa fait quelques temps que je n‚Äôai rien post√©‚Ä¶ Voici un rapide tuto pour installer docker-ce sur une debian9. Oui, je sais, docker est d√©j√† pr√©sent sur les d√©p√¥ts, mais si vous souhaitez avoir une version un peu plus r√©cente, vous pouvez passer par l‚Äôinstallation de la version ce fournie par docker.</summary></entry><entry><title type="html">Activer l‚Äô equalizer sur Debian 9</title><link href="https://blog.touret.info/2018/03/25/activer-l-equalizer-sur-debian-9/" rel="alternate" type="text/html" title="Activer l‚Äô equalizer sur Debian 9" /><published>2018-03-25T11:38:27+00:00</published><updated>2018-03-25T11:38:27+00:00</updated><id>https://blog.touret.info/2018/03/25/activer-l-equalizer-sur-debian-9</id><content type="html" xml:base="https://blog.touret.info/2018/03/25/activer-l-equalizer-sur-debian-9/">&lt;p&gt;Et oui, il y a un equalizer dans debian‚Ä¶.&lt;a href=&quot;https://www.freedesktop.org/wiki/Software/PulseAudio/&quot;&gt;Pulse Audio dispose d‚Äôun equalizer&lt;/a&gt;. Bon ce n‚Äôest encore tr√®s user friendly, mais √ßa fonctionne!&lt;/p&gt;

&lt;h2 id=&quot;installation-de-lequalizer&quot;&gt;Installation de l‚Äôequalizer&lt;/h2&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;apt-get &lt;span class=&quot;nb&quot;&gt;install &lt;/span&gt;pulseaudio-equalizer  
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;activation&quot;&gt;Activation&lt;/h2&gt;

&lt;p&gt;Ajouter les lignes suivantes dans le fichier /etc/pulse/default.pa&lt;/p&gt;

&lt;div class=&quot;language-ini highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;err&quot;&gt;load-module&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;module-equalizer-sink&lt;/span&gt;  
&lt;span class=&quot;err&quot;&gt;load-module&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;module-dbus-protocol&lt;/span&gt;  
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Relancer le d√©mon pulseaudio&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;se&quot;&gt;\#&lt;/span&gt; pulseaudio &lt;span class=&quot;nt&quot;&gt;-k&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; pulseaudio &lt;span class=&quot;nt&quot;&gt;-D&lt;/span&gt;  
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;A ce stade, vous devriez avoir dans le panneau de configuration la r√©f√©rence √† l‚Äôequalizer&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/2018/03/sc3a9lection_001.png&quot; alt=&quot;camel&quot; class=&quot;align-center&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;lancement&quot;&gt;Lancement&lt;/h2&gt;

&lt;p&gt;En ligne de commande ( je vous disais que ce n‚Äô√©tait pas trop user-friendly), lancer la commande&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;qpaeq &amp;amp;  
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;On obtient cette interface:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/2018/03/qpaeq_002.png&quot; alt=&quot;camel&quot; class=&quot;align-center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Arriv√© √† ce niveau, je suis quand m√™me un peu d√©√ßu/ Il n‚Äôy a pas une vrai int√©gration dans debian ( pas de lanceur pour l‚Äôequalizer ) et il n‚Äôy a pas de presets configur√©s ( #souvienstoiwinamp)&lt;/p&gt;

&lt;p&gt;J‚Äôai essay√© de poster mon soucis sur IRC, mais je n‚Äôai pas encore eu de r√©ponse. Je pense soumettre un bug dans les prochains jours.&lt;/p&gt;</content><author><name>Alexandre Touret</name></author><category term="debian" /><category term="planetlibre" /><category term="pulseaudio" /><summary type="html">Et oui, il y a un equalizer dans debian‚Ä¶.Pulse Audio dispose d‚Äôun equalizer. Bon ce n‚Äôest encore tr√®s user friendly, mais √ßa fonctionne!</summary></entry><entry><title type="html">Ma Configuration Debian 9</title><link href="https://blog.touret.info/2018/02/10/ma-configuration-debian-9/" rel="alternate" type="text/html" title="Ma Configuration Debian 9" /><published>2018-02-10T07:58:47+00:00</published><updated>2018-02-10T07:58:47+00:00</updated><id>https://blog.touret.info/2018/02/10/ma-configuration-debian-9</id><content type="html" xml:base="https://blog.touret.info/2018/02/10/ma-configuration-debian-9/">&lt;p&gt;D√©sol√© de remettre √ßa. Je remets sur mon blog ma configuration Debian. Histoire de ne pas la perdre tant qu‚Äôelle est dans mon historique .&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/2018/02/220px-debian-openlogo-svg.png&quot; alt=&quot;debian&quot; class=&quot;align-center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Voici ce que j‚Äôai r√©alis√© post-installation:&lt;/p&gt;

&lt;h2 id=&quot;ajout-d√©p√¥ts-suppl√©mentaires&quot;&gt;Ajout d√©p√¥ts suppl√©mentaires&lt;/h2&gt;

&lt;p&gt;Dans le fichier /etc/apt/sources.list, ajouter les repo contrib et non-free . Activer √©galement les mises √† jour de s√©curit√©.&lt;/p&gt;

&lt;div class=&quot;language-ini highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;err&quot;&gt;deb&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;http://ftp.fr.debian.org/debian/&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;stretch&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;main&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;non-free&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;contrib&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;deb-src&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;http://ftp.fr.debian.org/debian/&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;stretch&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;main&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;non-free&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;contrib&lt;/span&gt;

&lt;span class=&quot;err&quot;&gt;deb&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;http://security.debian.org/debian-security&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;stretch/updates&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;main&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;non-free&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;contrib&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;deb-src&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;http://security.debian.org/debian-security&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;stretch/updates&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;main&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;non-free&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;contrib&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;# stretch-updates, previously known as 'volatile'
&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;deb&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;http://ftp.fr.debian.org/debian/&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;stretch-updates&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;main&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;non-free&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;contrib&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;deb-src&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;http://ftp.fr.debian.org/debian/&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;stretch-updates&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;main&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;non-free&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;contrib&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;logiciels-tiers&quot;&gt;Logiciels tiers&lt;/h2&gt;

&lt;h3 id=&quot;etcher&quot;&gt;Etcher&lt;/h3&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;#echo &quot;deb https://dl.bintray.com/resin-io/debian stable etcher&quot; | sudo tee /etc/apt/sources.list.d/etcher.list
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  &amp;lt;pre&amp;gt;#apt-key adv &lt;span class=&quot;nt&quot;&gt;--keyserver&lt;/span&gt; hkp://pgp.mit.edu:80 &lt;span class=&quot;nt&quot;&gt;--recv-keys&lt;/span&gt; 379CE192D401AB61
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;virtualbox&quot;&gt;Virtualbox&lt;/h3&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;# wget -q https://www.virtualbox.org/download/oracle_vbox_2016.asc -O- | sudo apt-key add -&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Dans le fichier &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/etc/apt/sources.list.d/virtualbox.list&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;language-ini highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;err&quot;&gt;deb&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;https://download.virtualbox.org/virtualbox/debian&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;stretch&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;contrib&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;spotify&quot;&gt;Spotify&lt;/h3&gt;

&lt;p&gt;Dans le fichier /etc/apt/sources.list.d/spotify.list&lt;/p&gt;

&lt;div class=&quot;language-ini highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;err&quot;&gt;deb&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;http://repository.spotify.com&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;stable&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;non-free&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;installation-paquets-suppl√©mentaires&quot;&gt;Installation paquets suppl√©mentaires&lt;/h2&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;# apt-get update&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# apt-get install firmware-iwlwifi virtualbox-5.2\&lt;/span&gt;
ttf-mscorefonts-installer easytag tuxguitar-jsa htop&lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
 frescobaldi gparted grsync ntfs-config chromium autofs&lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
 openjdk-8-jdk openjdk-8-jre gnome-tweak-tool ntfs-config &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
ntfs-3g cifs-utils geogebra-gnome arduino libmediainfo &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
libmediainfo0v5 network-manager-openvpn-gnome dirmngr &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
spotify-client spotify-client-gnome-support &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
 etcher apt-transport-https etcher-electron vim &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
fonts-powerline audacity ffmpeg lame unrar rar gdebi &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
sound-juicer traceroute scala net-tools nmap &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
gnome-shell-pomodoro hplip dig dnsutils build-essential &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
linux-headers-amd64 firmware-linux-nonfree lshw ethtool &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
libsane-hpaio xsane autofs vlc
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;configuration-autofs&quot;&gt;Configuration autofs&lt;/h2&gt;

&lt;p&gt;Pour ceux qui ne connaissent pas , &lt;a href=&quot;https://wiki.debian.org/AutoFs&quot;&gt;autofs&lt;/a&gt; est un outil permettant de monter directement des partages &lt;a href=&quot;https://linuxconfig.org/how-to-configure-nfs-on-debian-9-stretch-linux&quot;&gt;nfs&lt;/a&gt; et cicfs √† l‚Äôutilisation et non au d√©marrage de l‚Äôordinateur.&lt;/p&gt;

&lt;p&gt;Dans le fichier /etc/auto.master&lt;/p&gt;

&lt;div class=&quot;language-ini highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;err&quot;&gt;/mnt/SERV1/nfs&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;/etc/auto.nfs&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;--ghost,&lt;/span&gt; &lt;span class=&quot;py&quot;&gt;--timeout&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;60 &lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;/mnt/SERV1/cifs&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;/etc/auto.SERV1.cifs&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;--ghost,&lt;/span&gt; &lt;span class=&quot;py&quot;&gt;--timeout&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;60 &lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;/mnt/SERV2&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;/etc/auto.cifs&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;--ghost,&lt;/span&gt; &lt;span class=&quot;py&quot;&gt;--timeout&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;60&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ensuite ins√©rer la configuration ad√©quate dans les fichiers r√©f√©renc√©s :&lt;/p&gt;

&lt;h3 id=&quot;autocicfs&quot;&gt;auto.cicfs&lt;/h3&gt;

&lt;div class=&quot;language-ini highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;err&quot;&gt;data&lt;/span&gt; &lt;span class=&quot;py&quot;&gt;-fstype&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;cifs,credentials=/home/USER/.cred-file,user=littlewing,uid=1000,gid=1000 ://192.168.0.XX/REPERTOIRE&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Les identifiants / mots de passe sont stock√©s dans un fichier .cred-file stock√© √† la racine du r√©pertoire utilisateur.&lt;/p&gt;

&lt;p&gt;Voici un exemple :&lt;/p&gt;

&lt;div class=&quot;language-ini highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;py&quot;&gt;username&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;user&lt;/span&gt;
&lt;span class=&quot;py&quot;&gt;password&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;password&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Le fichier auto.SERV1.cifs reprend la m√™me structure&lt;/p&gt;

&lt;h3 id=&quot;autonfs&quot;&gt;auto.nfs&lt;/h3&gt;

&lt;div class=&quot;language-ini highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;err&quot;&gt;REP1&lt;/span&gt; &lt;span class=&quot;py&quot;&gt;-fstype&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;nfs,rw,intr 192.168.0.XX:/volume1/REP1&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;REP2&lt;/span&gt; &lt;span class=&quot;py&quot;&gt;-fstype&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;nfs,rw,intr 192.168.0.XX:/volume1/REP2&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;installation-datom&quot;&gt;Installation d‚Äôatom&lt;/h2&gt;

&lt;p&gt;J‚Äôai choisi d‚Äôinstaller &lt;a href=&quot;https://atom.io/&quot;&gt;atom&lt;/a&gt; via le package .deb fourni par &lt;a href=&quot;http://github.com/&quot;&gt;github&lt;/a&gt;. Afin d‚Äôautomatiser l‚Äôinstallation et la mise √† jour, voici le script que j‚Äôai r√©alis√© :&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;#!/bin/sh&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;SETUP_ROOT&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/tmp
wget &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$SETUP_ROOT&lt;/span&gt;/atom.deb &lt;span class=&quot;s2&quot;&gt;&quot;https://atom.io/download/deb&quot;&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Installation du paquet...&quot;&lt;/span&gt;
dpkg &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$SETUP_ROOT&lt;/span&gt;/atom.deb
&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Fini :)&quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Ce script est plac√© dans le r√©pertoire /usr/local/sbin et lanc√© comme suit :&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;# upgrade-atom.sh&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;installation-de-firefox&quot;&gt;Installation de Firefox&lt;/h2&gt;

&lt;p&gt;Afin d‚Äôavoir la derni√®re version de firefox, voici le script que j‚Äôai r√©alis√©:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;#!/bin/sh&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;SETUP_ROOT&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/tmp
&lt;span class=&quot;nv&quot;&gt;BIN_ROOT&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr/local/firefox
&lt;span class=&quot;nv&quot;&gt;DATE&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;date&lt;/span&gt; +%Y-%m-%d&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;OLD_EXE&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr/lib/firefox-esr/firefox-esr
wget &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$SETUP_ROOT&lt;/span&gt;/FirefoxSetup.tar.bz2 &lt;span class=&quot;s2&quot;&gt;&quot;https://download.mozilla.org/?product=firefox-latest&amp;amp;os=linux64&amp;amp;lang=fr&quot;&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Extraction de l'archive...&quot;&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;tar &lt;/span&gt;xjf &lt;span class=&quot;nv&quot;&gt;$SETUP_ROOT&lt;/span&gt;/FirefoxSetup.tar.bz2 &lt;span class=&quot;nt&quot;&gt;-C&lt;/span&gt; /usr/local
&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Changement des droits utilisateur&quot;&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;chown&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; :users &lt;span class=&quot;nv&quot;&gt;$BIN_ROOT&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;chmod &lt;/span&gt;a+x &lt;span class=&quot;nv&quot;&gt;$BIN_ROOT&lt;/span&gt;/firefox
&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Sauvegarde de l'ancien binaire et Creation des liens symboliques&quot;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-e&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$OLD_EXE&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;then
 &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;OLD_BINARY&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;OLD_EXE&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;_orig_&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;DATE&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;
 &lt;span class=&quot;nb&quot;&gt;mv&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$OLD_EXE&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$OLD_BINARY&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;fi 
&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;ln&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-s&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$BIN_ROOT&lt;/span&gt;/firefox &lt;span class=&quot;nv&quot;&gt;$OLD_EXE&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;chmod &lt;/span&gt;a+x &lt;span class=&quot;nv&quot;&gt;$OLD_EXE&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Fini :)&quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;minecraft&quot;&gt;Minecraft&lt;/h2&gt;

&lt;p&gt;Voila l‚Äô√©tape la plus importante, du moins pour mes enfants ‚Ä¶&lt;/p&gt;

&lt;p&gt;J‚Äôai cr√©e le script /usr/local/bin/minecraft.sh&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;#!/bin/bash&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; /usr/local/minecraft
java &lt;span class=&quot;nt&quot;&gt;-Xmx1G&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Xms512M&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-cp&lt;/span&gt; /usr/local/minecraft/Minecraft.jar net.minecraft.bootstrap.Bootstrap
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;J‚Äôai plac√© le JAR en question dans le r√©pertoire /usr/local/minecraft.&lt;/p&gt;

&lt;p&gt;Enfin, j‚Äôai cr√©e le fichier ¬´¬†lanceur gnome¬†¬ª /usr/share/applications/minecraft.desktop&lt;/p&gt;

&lt;div class=&quot;language-ini highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nn&quot;&gt;[Desktop Entry]&lt;/span&gt; 
&lt;span class=&quot;py&quot;&gt;Name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;Minecraft&lt;/span&gt;
&lt;span class=&quot;py&quot;&gt;Comment&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;
&lt;span class=&quot;py&quot;&gt;Categories&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;Game;BoardGame;&lt;/span&gt;
&lt;span class=&quot;py&quot;&gt;Exec&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;/usr/local/bin/minecraft.sh&lt;/span&gt;
&lt;span class=&quot;py&quot;&gt;Icon&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;Minecraft_Block&lt;/span&gt;
&lt;span class=&quot;py&quot;&gt;Terminal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;false&lt;/span&gt;
&lt;span class=&quot;py&quot;&gt;Type&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;Application&lt;/span&gt;
&lt;span class=&quot;py&quot;&gt;StartupNotify&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;true&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;J‚Äôai √©galement mis une icone SVG dans le r√©pertoire /usr/share/icons/&lt;/p&gt;

&lt;h2 id=&quot;optimisation-du-boot&quot;&gt;Optimisation du boot&lt;/h2&gt;

&lt;p&gt;Apr√®s toutes ces installations, il faut v√©rifier que les performances, notamment au d√©marrage ne sont pas trop alt√©r√©es&lt;/p&gt;

&lt;p&gt;Pour avoir le d√©tail du boot, il faut utiliser la commande systemd-analyze&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;#systemd-analyze blame&lt;/span&gt;
 8.113s NetworkManager-wait-online.service
 2.549s apt-daily-upgrade.service
 803ms networking.service
 228ms colord.service
 213ms dev-sda1.device
 145ms systemd-timesyncd.service
 128ms ModemManager.service
 102ms autofs.service
....
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;On peut √©galement voir le chemin critique avec cette commande:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;#systemd-analyze critical-chain &lt;/span&gt;
The &lt;span class=&quot;nb&quot;&gt;time &lt;/span&gt;after the unit is active or started is printed after the &lt;span class=&quot;s2&quot;&gt;&quot;@&quot;&lt;/span&gt; character.
The &lt;span class=&quot;nb&quot;&gt;time &lt;/span&gt;the unit takes to start is printed after the &lt;span class=&quot;s2&quot;&gt;&quot;+&quot;&lt;/span&gt; character.

graphical.target @8.944s
‚îî‚îÄmulti-user.target @8.944s
 ‚îî‚îÄautofs.service @8.841s +102ms
 ‚îî‚îÄnetwork-online.target @8.841s
 ‚îî‚îÄNetworkManager-wait-online.service @723ms +8.113s
 ‚îî‚îÄNetworkManager.service @642ms +80ms
 ‚îî‚îÄdbus.service @612ms
 ‚îî‚îÄbasic.target @612ms
 ‚îî‚îÄpaths.target @612ms
 ‚îî‚îÄacpid.path @610ms
 ‚îî‚îÄsysinit.target @608ms
 ‚îî‚îÄsystemd-backlight@backlight:acpi_video0.service @1.042s +8ms
 ‚îî‚îÄsystem-systemd&lt;span class=&quot;se&quot;&gt;\x&lt;/span&gt;2dbacklight.slice @1.042s
 ‚îî‚îÄsystem.slice @119ms
 ‚îî‚îÄ-.slice @108ms
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;d√©sactivation-des-services&quot;&gt;D√©sactivation des services&lt;/h3&gt;

&lt;p&gt;Par exemple, si vous voulez d√©sactiver le service virtualbox au d√©marrage&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;# systemctl disable vboxautostart-service.service&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;et ainsi de suite pour tous les services inutiles au d√©marrage&lt;/p&gt;

&lt;h2 id=&quot;analyse-du-d√©marrage-dun-service&quot;&gt;Analyse du d√©marrage d‚Äôun service&lt;/h2&gt;

&lt;p&gt;Pour analyser le d√©marrage d‚Äôun service, on peut utiliser la commande journalctl&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;# journalctl -b -u NetworkManager-wait-online.service&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;conclusion&quot;&gt;Conclusion&lt;/h2&gt;

&lt;p&gt;Apr√®s toutes ces √©tapes, j‚Äôai un syst√®me op√©rationnel. Il manque pas mal d‚Äôoutils ( ex. maven, npm, intellij,‚Ä¶). Ces outils tiennent plus du poste de d√©veloppement.&lt;/p&gt;</content><author><name>Alexandre Touret</name></author><category term="planetlibre" /><category term="debian" /><summary type="html">D√©sol√© de remettre √ßa. Je remets sur mon blog ma configuration Debian. Histoire de ne pas la perdre tant qu‚Äôelle est dans mon historique .</summary></entry></feed>